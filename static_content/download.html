<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">
    <title>Download</title>
</head>

<body id="body" class="wraper">
    <h1>Download files</h1>
    <form action="/5~file~" method="post" id="sex">
        <button class="db"></button>
    </form>
</body>

<script>

    const Http = new XMLHttpRequest(); // it sucks that it's an XMLHttp, should compensate for that on the back end
    const url='/6';
    Http.open("POST", url);
    Http.send();

    Http.onreadystatechange = (event) => {
        // console.log(event)
        if (Http.readyState !== XMLHttpRequest.DONE) {
            return
        }

        let response = Http.responseText
        // console.log(response)

        files = response.split('\n') // split
        files = files.filter(n => n) // get rid of empty line


        files.forEach((file) => {
            // console.log(file)

            let form = document.createElement("form");
            form.action = "/5" + file
            form.method = "post"

            let button = document.createElement("button")
            button.textContent = "Click to download: " + file
            form.appendChild(button)

            body.appendChild(form)
        })

    }
// https://stackoverflow.com/questions/58423969/how-to-style-a-dynamically-created-button-with-javascript виж това, ако работи за js-a
</script>

</html>